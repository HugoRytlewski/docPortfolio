const openBtn = document.getElementById('openMenu');
const menu = document.getElementById('burgerMenu');

openBtn.addEventListener('click', () => {
  menu.hidden = false;
  const focusableElements = menu.querySelectorAll('a, button, input, [tabindex]:not([tabindex="-1"])');
  const firstEl = focusableElements[0];
  const lastEl = focusableElements[focusableElements.length - 1];

  firstEl.focus();

  function trapFocus(e) {
    if (e.key === 'Tab') {
      if (e.shiftKey) {
        // Tab + Shift
        if (document.activeElement === firstEl) {
          e.preventDefault();
          lastEl.focus();
        }
      } else {
        // Tab
        if (document.activeElement === lastEl) {
          e.preventDefault();
          firstEl.focus();
        }
      }
    } else if (e.key === 'Escape') {
      // Optionnel : fermer avec Ã‰chap
      menu.hidden = true;
      openBtn.focus();
      document.removeEventListener('keydown', trapFocus);
    }
  }

  document.addEventListener('keydown', trapFocus);
});